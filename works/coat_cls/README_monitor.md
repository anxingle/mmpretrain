# è®­ç»ƒç›‘æ§å·¥å…·ä½¿ç”¨æŒ‡å—

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

è¿™ä¸ªç›‘æ§å·¥å…·å¯ä»¥å®æ—¶ç›‘æ§è®­ç»ƒè¿‡ç¨‹ï¼Œæ˜¾ç¤º accuracyã€precisionã€recall ç­‰æŒ‡æ ‡ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ° markdown æ–‡ä»¶ä¸­ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‰å°è¿è¡Œï¼ˆæ¨èç”¨äºæµ‹è¯•ï¼‰
```bash
# åŸºæœ¬ç”¨æ³•
./start_monitor.sh

# æˆ–è€…ç›´æ¥è¿è¡Œ
python monitor_training.py --log /home/an/mmpretrain/train_cls.log --output recall_acc.md
```

### 2. åå°è¿è¡Œï¼ˆæ¨èç”¨äºé•¿æœŸç›‘æ§ï¼‰
```bash
# å¯åŠ¨åå°ç›‘æ§
./start_monitor_background.sh

# æŸ¥çœ‹å®æ—¶ç»“æœ
tail -f recall_acc.md

# æŸ¥çœ‹ç›‘æ§è¿›ç¨‹çŠ¶æ€
ps aux | grep monitor_training

# åœæ­¢ç›‘æ§
pkill -f monitor_training
```

## ğŸ“‹ å‚æ•°è¯´æ˜

```bash
python monitor_training.py [é€‰é¡¹]

é€‰é¡¹:
  -h, --help           æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --task {coat_color}  ç›‘æ§çš„ä»»åŠ¡ç±»å‹
  --log LOG            æ—¥å¿—æ–‡ä»¶è·¯å¾„
  --interval INTERVAL  åˆ·æ–°é—´éš”ï¼ˆç§’ï¼Œé»˜è®¤10ï¼‰
  --debug              å¯ç”¨è°ƒè¯•æ¨¡å¼
  --clear              æ¸…å±æ¨¡å¼ï¼ˆé»˜è®¤æ˜¯è¿½åŠ æ¨¡å¼ï¼‰
  --output OUTPUT      è¾“å‡ºæ–‡ä»¶è·¯å¾„ï¼ˆå¦‚ï¼šrecall_acc.mdï¼‰
```

## ğŸ“Š è¾“å‡ºå†…å®¹

ç›‘æ§è„šæœ¬ä¼šè¾“å‡ºä»¥ä¸‹ä¿¡æ¯ï¼š

1. **åŸºæœ¬ä¿¡æ¯**ï¼š
   - æ—¶é—´æˆ³
   - Epoch ä¿¡æ¯
   - Top-1 Accuracy

2. **ç±»åˆ«æŒ‡æ ‡**ï¼š
   - Precisionï¼ˆç²¾ç¡®ç‡ï¼‰
   - Recallï¼ˆå¬å›ç‡ï¼‰
   - F1-Scoreï¼ˆF1åˆ†æ•°ï¼‰
   - Macro Averageï¼ˆå®å¹³å‡ï¼‰

3. **å˜åŒ–æŒ‡ç¤º**ï¼š
   - ğŸ“ˆ å‡†ç¡®ç‡ä¸Šå‡
   - ğŸ“‰ å‡†ç¡®ç‡ä¸‹é™
   - âš¡ ç±»åˆ«æŒ‡æ ‡å˜åŒ–

## ğŸ“„ æ–‡ä»¶è¾“å‡º

### recall_acc.md æ–‡ä»¶æ ¼å¼ï¼š
```markdown
# è®­ç»ƒç›‘æ§è®°å½• - èˆŒè‹”é¢œè‰²åˆ†ç±»
å¼€å§‹æ—¶é—´: 2025-08-28 12:09:57
æ—¥å¿—æ–‡ä»¶: /home/an/mmpretrain/train_cls.log

============================================================
ğŸ” è®­ç»ƒç›‘æ§ - èˆŒè‹”é¢œè‰²åˆ†ç±»
============================================================

â° [12:09:57] ğŸš€ é¦–æ¬¡æ•°æ®:
ğŸ¯ Top-1 Accuracy: 93.19%
ğŸ“ˆ ç±»åˆ«æŒ‡æ ‡:
------------------------------------------------------------
ç±»åˆ«              Precision    Recall       F1-Score    
------------------------------------------------------------
ç°è‰²              0.3333       1.0000       0.5000      
ç™½è‰²              0.2750       0.3143       0.2933      
é»„è‰²              0.9684       0.9607       0.9645      
------------------------------------------------------------
Macro Average   0.5256       0.7583       0.6209      
------------------------------------------------------------
```

## ğŸ”§ ä½¿ç”¨æŠ€å·§

### 1. å®æ—¶æŸ¥çœ‹ç»“æœ
```bash
# å®æ—¶æŸ¥çœ‹ç›‘æ§ç»“æœ
watch -n 1 'tail -20 recall_acc.md'

# æˆ–è€…ä½¿ç”¨ tail å‘½ä»¤
tail -f recall_acc.md
```

### 2. è‡ªå®šä¹‰åˆ·æ–°é—´éš”
```bash
# æ¯5ç§’åˆ·æ–°ä¸€æ¬¡
python monitor_training.py --interval 5 --output recall_acc.md
```

### 3. è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼
python monitor_training.py --debug --output recall_acc.md
```

### 4. æ¸…å±æ¨¡å¼
```bash
# æ¯æ¬¡æ›´æ–°éƒ½æ¸…å±æ˜¾ç¤º
python monitor_training.py --clear --output recall_acc.md
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### 1. æ—¥å¿—æ–‡ä»¶ä¸å­˜åœ¨
```bash
# æ£€æŸ¥æ—¥å¿—æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la /home/an/mmpretrain/train_cls.log

# æˆ–è€…æŒ‡å®šæ­£ç¡®çš„æ—¥å¿—æ–‡ä»¶è·¯å¾„
python monitor_training.py --log /path/to/your/log/file.log
```

### 2. ç›‘æ§è¿›ç¨‹æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥è¿›ç¨‹çŠ¶æ€
ps aux | grep monitor_training

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
cat monitor.log

# æ‰‹åŠ¨åœæ­¢è¿›ç¨‹
pkill -f monitor_training
```

### 3. è¾“å‡ºæ–‡ä»¶æƒé™é—®é¢˜
```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la recall_acc.md

# ä¿®æ”¹æƒé™
chmod 644 recall_acc.md
```

## ğŸ“ˆ ç›‘æ§æŒ‡æ ‡è¯´æ˜

- **Top-1 Accuracy**: æ•´ä½“åˆ†ç±»å‡†ç¡®ç‡
- **Precision**: ç²¾ç¡®ç‡ï¼Œé¢„æµ‹ä¸ºæ­£ç±»ä¸­å®é™…ä¸ºæ­£ç±»çš„æ¯”ä¾‹
- **Recall**: å¬å›ç‡ï¼Œå®é™…æ­£ç±»ä¸­è¢«æ­£ç¡®é¢„æµ‹çš„æ¯”ä¾‹
- **F1-Score**: ç²¾ç¡®ç‡å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡æ•°
- **Macro Average**: å„ç±»åˆ«æŒ‡æ ‡çš„ç®—æœ¯å¹³å‡å€¼

## ğŸ‰ ä½¿ç”¨ç¤ºä¾‹

å®Œæ•´çš„ä½¿ç”¨æµç¨‹ï¼š

1. **å¯åŠ¨è®­ç»ƒ**
```bash
bash train_coat_color_normal.sh
```

2. **å¯åŠ¨ç›‘æ§**
```bash
./start_monitor_background.sh
```

3. **æŸ¥çœ‹ç»“æœ**
```bash
tail -f recall_acc.md
```

4. **åœæ­¢ç›‘æ§**
```bash
pkill -f monitor_training
```
